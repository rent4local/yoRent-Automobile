<section class="">
    <div class="container">
        <div class="cd-products-comparison-table">
            <div class="cd-products-comparison-table-head">

                <h2 class="title">Compare Models</h2>
                <div class="actions">
                    <a href="#0" class="reset">Reset</a>
                    <a href="#0" class=" filter">Filter</a>
                </div>


            </div>

            <div class="cd-products-table">
                <div class="features">
                    <div class="top-info">Models</div>
                    <ul class="cd-features-list heading-list--js">
                        <li class="grouping">Price</li>
                        <li>Price1</li>
                        <li>Customer Rating</li>
                        <li>Resolution</li>
                        <li>Screen Type</li>
                        <li>Display Size</li>
                        <li>Refresh Rate</li>
                        <li class="grouping">Model Year</li>
                        <li>Tuner Technology</li>
                        <li>Ethernet Input</li>
                        <li>USB Input</li>
                        <li>Scart Input</li>
                    </ul>
                </div>
                <!-- .features -->

                <div class="cd-products-wrapper">
                    <ul class="cd-products-columns level-1--js">
                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                                <ul class="variant">
                                    <li>
                                        <span class="color" style="background-color: red;"></span>

                                    </li>
                                    <li>
                                        <span class="color" style="background-color: green;"></span>

                                    </li>
                                    <li>
                                        <span class="color" style="background-color: yellow;"></span>

                                    </li>
                                    <li>
                                        <span class="color" style="background-color: black;"></span>

                                    </li>
                                    <li>
                                        <span class="color" style="background-color: white;"></span>

                                    </li>
                                </ul>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p1080p1080p1080p 1080p1080p1080p 1080p1080p1080p 1080p1080p1080p 1080p1080p1080p
                                    1080p1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                                <ul class="variant">
                                    <li>
                                        <span class="size">M</span>

                                    </li>
                                    <li>
                                        <span class="size">L</span>

                                    </li>
                                    <li>
                                        <span class="size">S</span>

                                    </li>
                                    <li>
                                        <span class="size">XXL</span>

                                    </li>
                                    <li>
                                        <span class="size">XXXL</span>

                                    </li>
                                </ul>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side1 Side 1 Side1 Side1 Side1 Side 1 Side1 Side1 Side1 Side 1 Side1 Side1 Side1
                                    Side</li>
                                <li>3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3
                                    Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3
                                    Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3
                                    Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->

                        <li class="product level-2--js">
                            <div class="top-info">
                                <div class="check"></div>
                                <img src="../images/product.png" alt="product image" />
                                <h3>Sumsung Series 6 J6300</h3>
                            </div>
                            <!-- .top-info -->

                            <ul class="cd-features-list">
                                <li class="grouping"></li>
                                <li>$600</li>
                                <li class="rate"><span>5/5</span></li>
                                <li>1080p</li>
                                <li>LED</li>
                                <li>47.6 inches</li>
                                <li>800Hz</li>
                                <li class="grouping"></li>
                                <li>mpeg4</li>
                                <li>1 Side</li>
                                <li>3 Port</li>
                                <li>1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear1 Rear</li>
                            </ul>
                        </li>
                        <!-- .product -->
                    </ul>
                    <!-- .cd-products-columns -->
                </div>
                <!-- .cd-products-wrapper -->

                <ul class="cd-table-navigation">
                    <li><a href="#0" class="prev inactive">Prev</a></li>
                    <li><a href="#0" class="next">Next</a></li>
                </ul>
            </div>
            <!-- .cd-products-table -->
        </div>
    </div>


</section>

<script>
$(document).ready(function() {
    var heightArr = [];
    $(".level-1--js .level-2--js").each(function(parentIndex, element) {
        $(element).find('.cd-features-list li').each(function(childIndex, childElement) {
            var height = $(childElement).outerHeight();
            if (heightArr[childIndex] != undefined) {
                if (heightArr[childIndex] < height) {
                    heightArr[childIndex] = height;
                }
            } else {
                heightArr.push(height);
            }
        })
    });
    $(".level-1--js .level-2--js").each(function(parentIndex, element) {
        $(element).find('.cd-features-list li').each(function(childIndex, childElement) {
            var minHeight = heightArr[childIndex];
            $(childElement).css('min-height', minHeight + 'px');
        });
    });
    $('.heading-list--js li').each(function(childIndex, childElement) {
        var minHeight = heightArr[childIndex];
        $(childElement).css('min-height', minHeight + 'px');
    });

});
</script>
<?php die(); ?>

<section class="section p-0 pb-5 section-compare">
    <div class="container wrapper--table">
        <div class="wrapper--table-inner ">
            <div class="product--comparison row no-gutters">
                <div class="col-12">
                    <table>
                        <tr>
                            <td>
                                <h2>
                                    <?php echo sprintf(Labels::getLabel('LBL_Compare_%s_vs_others', $siteLangId), current($productsDetail)['selprod_title']); ?>
                                </h2>
                                <span class="count pt-4 d-block"><?php echo count($prodArr); ?>
                                    <?php
                                    if (count($prodArr) > 1) {
                                        echo Labels::getLabel('LBL_Items', $siteLangId);
                                    } else {
                                        echo Labels::getLabel('LBL_Item', $siteLangId);
                                    }
                                    ?>
                                </span>
                            </td>

                            <?php foreach ($prodArr as $selProd => $prod) { ?>
                            <td>
                                <div class="prod--sm">
                                    <div class="prod--cancel"
                                        onclick="removeFromCompareList('<?php echo $selProd; ?>', 1)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 20 20" style="vertical-align: bottom">
                                            <rect id="input" opacity="0.3" fill="#6f7271" width="20" height="20"></rect>
                                            <path id="cross" fill="#ffffff"
                                                d="M14.243,4.343l1.414,1.414-9.9,9.9L4.343,14.242Zm-8.485,0,9.9,9.9-1.414,1.414-9.9-9.9Z">
                                            </path>
                                        </svg>
                                    </div>
                                    <div class="prod-media">
                                        <a href="<?php echo UrlHelper::generateUrl('Products', 'View', array($selProd)); ?>"
                                            tabindex="0"><img class="prod--img"
                                                src="<?php echo CommonHelper::generateUrl('image', 'product', array($prod, "CLAYOUT3", $selProd, 0, $siteLangId)); ?>">
                                        </a>
                                    </div>

                                    <?php if (!empty($productsDetail[$selProd])) { ?>
                                    <div class="prod-detail">
                                        <div class="product-category">
                                            <a href="<?php echo UrlHelper::generateUrl('Category', 'View', array($productsDetail[$selProd]['prodcat_id'])); ?>"
                                                tabindex="0"><?php echo $productsDetail[$selProd]['prodcat_name']; ?>
                                            </a>
                                        </div>
                                        <div class="product-heading">
                                            <a href="<?php echo UrlHelper::generateUrl('Products', 'View', array($productsDetail[$selProd]['selprod_id'])); ?>"
                                                tabindex="0"><?php echo $productsDetail[$selProd]['selprod_title']; ?></a>
                                        </div>
                                        <div class="product-category">
                                            <a href="<?php echo UrlHelper::generateUrl('brands', 'View', array($productsDetail[$selProd]['brand_id'])); ?>"
                                                tabindex="0"><?php echo $productsDetail[$selProd]['brand_name']; ?>
                                            </a>
                                        </div>
                                        <div class="product-price justify-content-start pt-0">
                                            <span
                                                class="info"><?php echo Labels::getLabel('LBL_Starting_from', $siteLangId); ?></span>
                                            <span class="product-price-new">
                                                <?php
                                                        if ($productsDetail[$selProd]['special_price_found']) {
                                                            echo CommonHelper::displayMoneyFormat($productsDetail[$selProd]['selprod_price']);
                                                            //echo CommonHelper::showProductDiscountedText($productsDetail[$selProd], $siteLangId);
                                                        } else {
                                                            echo CommonHelper::displayMoneyFormat($productsDetail[$selProd]['theprice']);
                                                        }
                                                        ?>
                                            </span>
                                        </div>
                                    </div>
                                    <?php } ?>

                                </div>
                            </td>
                            <?php } ?>
                            <?php
                            if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) { ?>
                            <td>

                                <div class="prod-media"></div>
                                <div class="prod--sm">
                                    <div class="prod-detail">
                                        <div class="product-category">
                                            <?php echo Labels::getLabel('LBL_Add_new_product', $siteLangId); ?>
                                        </div>
                                        <div class="product-heading">
                                            <input type="text" name="search_product"
                                                id="search_product_js_<?php echo $i; ?>" />
                                        </div>

                                    </div>
                                </div>
                            </td>
                            <?php        }
                            }
                            ?>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="variant--comparison row no-gutters brdr-top">
                <div class="col-12">
                    <table>
                        <tr>
                            <td>
                                <?php
                                if (!empty($prodOptionsArr)) { ?><?php echo Labels::getLabel('LBL_Variants', $siteLangId); ?><?php } ?>
                            </td>
                            <?php
                            $count = 0;
                            foreach ($prodArr as $selProd => $prod) {

                                $catRating = $catalogRating = (!empty($catalogReviewsArr[$prod]['prod_rating'])) ? round($catalogReviewsArr[$prod]['prod_rating'], 1) : 0;
                                $catalogReviews = (!empty($catalogReviewsArr[$prod]['totReviews'])) ? intval($catalogReviewsArr[$prod]['totReviews']) : 0;
                            ?>
                            <td>
                                <div class="rating-review">
                                    <div class="rating-wrap">
                                        <div class="rating-stars">
                                            <ul style="display: flex">
                                                <?php
                                                    for ($i = 0; $i < 5; $i++) {
                                                        if ($catalogRating > 0) {
                                                            if ($catalogRating >= 1) {
                                                    ?>
                                                <li class="active">
                                                    <svg width="15" height="15">
                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                            xlink:href="#ratingStar-icon"></use>
                                                        <svg id="ratingStar-icon" viewBox="0 0 15 15" width="100%"
                                                            height="100%">
                                                            <path fill="#FFD700" id="" data-name="Forma 1" class=""
                                                                d="M14.979,5.7a0.273,0.273,0,0,0-.217-0.192L9.9,4.766,7.726,0.153a0.263,0.263,0,0,0-.482,0L5.069,4.766l-4.862.74A0.274,0.274,0,0,0-.01,5.7a0.291,0.291,0,0,0,.068.288l3.518,3.59L2.745,14.647a0.286,0.286,0,0,0,.107.274,0.255,0.255,0,0,0,.283.022L7.485,12.55l4.349,2.394a0.257,0.257,0,0,0,.125.032,0.253,0.253,0,0,0,.158-0.054,0.284,0.284,0,0,0,.107-0.274L11.393,9.578l3.519-3.591A0.292,0.292,0,0,0,14.979,5.7Z">
                                                            </path>
                                                        </svg>
                                                    </svg>
                                                </li>
                                                <?php
                                                            } else {
                                                            ?>
                                                <li>
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="13"
                                                        viewBox="0 0 14 13">
                                                        <defs>
                                                            <style>
                                                            .cls-1 {
                                                                fill: #f5b335 !important;
                                                            }

                                                            .cls-1,
                                                            .cls-2 {
                                                                fill-rule: evenodd;
                                                            }

                                                            .cls-2 {
                                                                fill: #d2d9d6 !important;
                                                            }
                                                            </style>
                                                        </defs>
                                                        <path class="cls-1" fill=""
                                                            d="M1196,337v11.019L1191.67,350l0.6-4.629-3.27-3.4,4.69-.88L1196,337"
                                                            transform="translate(-1189 -337)" />
                                                        <path id="Shape_1_copy_2" data-name="Shape 1 copy 2"
                                                            class="cls-2"
                                                            d="M1196,348.019l4.33,1.981-0.6-4.629,3.27-3.4-4.69-.88L1196,337v11.019ZM1196,337"
                                                            transform="translate(-1189 -337)" />
                                                    </svg>
                                                </li>
                                                <?php
                                                            }
                                                            $catalogRating--;
                                                        } else {
                                                            ?>
                                                <li>
                                                    <svg width="15" height="15">
                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                            xlink:href="#ratingStar-icon"></use>
                                                        <svg id="ratingStar-icon" viewBox="0 0 15 15" width="100%"
                                                            height="100%">
                                                            <path id="" data-name="Forma 1" class=""
                                                                d="M14.979,5.7a0.273,0.273,0,0,0-.217-0.192L9.9,4.766,7.726,0.153a0.263,0.263,0,0,0-.482,0L5.069,4.766l-4.862.74A0.274,0.274,0,0,0-.01,5.7a0.291,0.291,0,0,0,.068.288l3.518,3.59L2.745,14.647a0.286,0.286,0,0,0,.107.274,0.255,0.255,0,0,0,.283.022L7.485,12.55l4.349,2.394a0.257,0.257,0,0,0,.125.032,0.253,0.253,0,0,0,.158-0.054,0.284,0.284,0,0,0,.107-0.274L11.393,9.578l3.519-3.591A0.292,0.292,0,0,0,14.979,5.7Z">
                                                            </path>
                                                        </svg>
                                                    </svg>
                                                </li>
                                                <?php
                                                        }
                                                    }
                                                    ?>


                                            </ul>
                                        </div>
                                    </div>
                                    <div class="reviews-count"><span><?php //echo round($catalogRating, 1); 
                                                                            ?></span> </div>
                                    <span class="d-block w-100 pt-2">
                                        <?php
                                            echo $catRating;
                                            if ($catRating > 1) {
                                                echo '&nbsp;' . Labels::getLabel('LBL_Ratings', $siteLangId);
                                            } else {
                                                echo '&nbsp;' . Labels::getLabel('LBL_Rating', $siteLangId);
                                            }
                                            ?>
                                        &
                                        <?php
                                            echo $catalogReviews;
                                            if ($catalogReviews > 1) {
                                                echo '&nbsp;' . Labels::getLabel('LBL_Reviews', $siteLangId);
                                            } else {
                                                echo '&nbsp;' . Labels::getLabel('LBL_Review', $siteLangId);
                                            }
                                            ?>
                                    </span>
                                </div>


                                <?php
                                    //echo "<pre>"; print_r($prodOptionsArr); echo "</pre>"; //exit;
                                    //echo "<pre>"; print_r($selectedOptionsArr); echo "</pre>"; exit;
                                    if (!empty($prodOptionsArr[$prod])) {
                                    ?>
                                <div class="product--options">
                                    <?php
                                            foreach ($prodOptionsArr[$prod] as $key => $option) {
                                                $selectedOptionValue = $option['values'][$selectedOptionsArr[$selProd][$key]]['optionvalue_name'];
                                                $selectedOptionColor = $option['values'][$selectedOptionsArr[$selProd][$key]]['optionvalue_color_code'];
                                            ?>
                                    <div class="col-md-12 mb-6 no-gutters">
                                        <div class="h6"><?php echo $option['option_name']; ?></div>
                                        <div class="js-wrap-drop wrap-drop" id="js-wrap-drop<?php echo $count; ?>">
                                            <span>
                                                <?php if ($option['option_is_color']) { ?>
                                                <span class="colors"
                                                    style="background-color:#<?php echo $selectedOptionColor; ?>; ?>;"></span>
                                                <?php } ?>
                                                <?php echo $selectedOptionValue; ?>
                                            </span>
                                            <?php if ($option['values']) { ?>
                                            <ul class="drop">
                                                <?php foreach ($option['values'] as $opVal) {
                                                                    $sellerProductID = 0;
                                                                    $isAvailable = true;
                                                                    if (in_array($opVal['optionvalue_id'], $selectedOptionsArr[$selProd])) {
                                                                        $optionUrl = UrlHelper::generateUrl('Products', 'view', array($selProd));
                                                                    } else {
                                                                        $sellerProductID = Product::generateProductOptionsUrl($selProd, $selectedOptionsArr[$selProd], $option['option_id'], $opVal['optionvalue_id'], $prod, true);

                                                                        $optionUrl = Product::generateProductOptionsUrl($selProd, $selectedOptionsArr[$selProd], $option['option_id'], $opVal['optionvalue_id'], $prod);
                                                                        $optionUrlArr = explode("::", $optionUrl);
                                                                        if (is_array($optionUrlArr) && count($optionUrlArr) == 2) {
                                                                            $optionUrl = $optionUrlArr[0];
                                                                            $isAvailable = false;
                                                                        }
                                                                    } ?>

                                                <li <?php if (!in_array($opVal['optionvalue_id'], $selectedOptionsArr[$selProd])) { ?>
                                                    onclick="changeOption('<?php echo $sellerProductID; ?>', '<?php echo $selProd; ?>')"
                                                    <?php } ?>
                                                    class="<?php echo (in_array($opVal['optionvalue_id'], $selectedOptionsArr[$selProd])) ? ' selected' : ' ';
                                                                                                                                                                                                                                                                    echo (!$optionUrl) ? ' is-disabled' : '';
                                                                                                                                                                                                                                                                    echo (!$isAvailable) ? 'not--available' : ''; ?>">
                                                    <?php if ($option['option_is_color'] && $opVal['optionvalue_color_code'] != '') { ?>
                                                    <a optionValueId="<?php echo $opVal['optionvalue_id']; ?>"
                                                        selectedOptionValues="<?php echo implode("_", $selectedOptionsArr[$selProd]); ?>"
                                                        title="<?php echo $opVal['optionvalue_name'];
                                                                                                                                                                                                                                echo (!$isAvailable) ? ' ' . Labels::getLabel('LBL_Not_Available', $siteLangId) : ''; ?>"
                                                        class="<?php echo (!$option['option_is_color']) ? 'selector__link' : '';
                                                                                                                                                                                                                                                                                                                                    echo (in_array($opVal['optionvalue_id'], $selectedOptionsArr[$selProd])) ? ' ' : ' ';
                                                                                                                                                                                                                                                                                                                                    echo (!$optionUrl) ? ' is-disabled' : '';  ?>"
                                                        href="javascript:void(0)"> <span class="colors"
                                                            style="background-color:#<?php echo $opVal['optionvalue_color_code']; ?>;"></span><?php echo $opVal['optionvalue_name']; ?></a>
                                                    <?php } else { ?>
                                                    <a optionValueId="<?php echo $opVal['optionvalue_id']; ?>"
                                                        selectedOptionValues="<?php echo implode("_", $selectedOptionsArr[$selProd]); ?>"
                                                        title="<?php echo $opVal['optionvalue_name'];

                                                                                                                                                                                                                                echo (!$isAvailable) ? ' ' . Labels::getLabel('LBL_Not_Available', $siteLangId) : ''; ?>"
                                                        class="<?php echo (in_array($opVal['optionvalue_id'], $selectedOptionsArr[$selProd])) ? '' : ' ';
                                                                                                                                                                                                                                                                                                                                    echo (!$optionUrl) ? ' is-disabled' : '' ?>"
                                                        href="javascript:void(0);">
                                                        <?php echo $opVal['optionvalue_name'];  ?> </a>
                                                    <?php } ?>
                                                </li>

                                                <?php } ?>
                                            </ul>
                                            <?php } ?>
                                        </div>
                                    </div>
                                    <?php
                                                $count++;
                                            }
                                            ?>
                                </div>
                                <?php
                                    }

                                    ?>
                                <div class="comp-prod-add-to-cart">
                                    <a href="javascript:void(0)" class="btn btn--primary hide_below_desktop"
                                        onclick="quickDetail('<?php echo $selProd; ?>')"><?php echo Labels::getLabel('LBL_Quick_View', $siteLangId); ?></a>

                                    <a href="<?php echo UrlHelper::generateUrl('Products', 'View', array($selProd)); ?>"
                                        class="btn btn--primary hide--desktop show--mobile"><?php echo Labels::getLabel('LBL_View', $siteLangId); ?></a>

                                </div>
                            </td>
                            <?php } ?>
                            <?php
                            if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                    echo '<td></td>';
                                }
                            }
                            ?>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="variant--comparison seller-comparison row no-gutters brdr-top">
                <div class="col-12">
                    <table>
                        <tr>
                            <td>
                                <?php
                                if (!empty($prodArr)) { ?><?php echo Labels::getLabel('LBL_Seller', $siteLangId); ?><?php } ?>
                            </td>

                            <?php foreach ($prodArr as $selProd => $prod) { ?>
                            <td><?php echo $productsDetail[$selProd]['shop_name']; ?></td>
                            <?php } ?>
                            <?php
                            if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                    echo '<td></td>';
                                }
                            }
                            ?>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="variant--comparison seller-comparison row no-gutters brdr-top">
                <div class="col-12">
                    <table>
                        <tr>
                            <td>
                                <?php
                                if (!empty($prodArr)) { ?><?php echo Labels::getLabel('LBL_Seller_Info', $siteLangId); ?><?php } ?>
                            </td>

                            <?php foreach ($prodArr as $selProd => $prod) { ?>
                            <td><?php echo $productsDetail[$selProd]['user_name']; ?> </br>
                                <?php echo $productsDetail[$selProd]['user_dial_code'] . ' ' . $productsDetail[$selProd]['user_phone']; ?></br>
                                <?php echo $productsDetail[$selProd]['user_city']; ?>
                            </td>
                            <?php } ?>
                            <?php
                            if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                    echo '<td></td>';
                                }
                            }
                            ?>
                        </tr>
                    </table>
                </div>
            </div>

            <?php if (ALLOW_RENT > 0 && $productForRent > 0) { ?>
            <div class="spec-comparison row no-gutters">
                <div class="col-12 spec-head">
                    <h2><?php echo Labels::getLabel('LBL_Rental_information', $siteLangId); ?></h2>
                </div>
                <table>

                    <?php
                        foreach ($rentalArrFlds as $rentKey => $rentalArrFld) {
                        ?>
                    <tr>
                        <td><?php echo $rentalArrFld; ?></td>
                        <?php
                                foreach ($prodArr as $selProd => $prod) {

                                    echo '<td>';
                                    if ($productsDetail[$selProd]['sprodata_is_for_rent'] != 1) {
                                        echo Labels::getLabel('LBL_N/A', $siteLangId);
                                        echo '</td>';
                                        continue;
                                    }

                                    switch ($rentKey) {
                                        case 'sprodata_rental_price':
                                            echo CommonHelper::displayMoneyFormat($productsDetail[$selProd][$rentKey]);
                                            if (!empty($rentalTypeArr)) {
                                                if (!empty($productsDetail[$selProd]['sprodata_rental_type'])) {
                                                    echo ' / ' . $rentalTypeArr[$productsDetail[$selProd]['sprodata_rental_type']];
                                                }
                                            }
                                            break;
                                        case 'sprodata_rental_terms':
                                            if ($productsDetail[$selProd][$rentKey] != '') {
                                                if (strlen($productsDetail[$selProd][$rentKey]) > 100) {
                                                    echo substr($productsDetail[$selProd][$rentKey], 0, 100);
                                                    echo '... ' . '<a href="javascript:void(0)" onclick="moreDetail(' . $selProd . ')">' . Labels::getLabel('LBL_More', $siteLangId) . '</a>';
                                ?>
                        <div style="display: none;" id="term-and-condition-<?php echo $selProd; ?>">
                            <h2><?php echo $productsDetail[$selProd]["product_name"]; ?></h2>
                            <?php echo $productsDetail[$selProd][$rentKey]; ?>
                        </div>
                        <?php
                                                } else {
                                                    echo $productsDetail[$selProd][$rentKey];
                                                }
                                            } else {
                                                echo Labels::getLabel('LBL_N/A', $siteLangId);
                                            }

                                            break;
                                        case 'sprodata_rental_security':
                                            echo CommonHelper::displayMoneyFormat($productsDetail[$selProd][$rentKey]);
                                            echo ' / ' . Labels::getLabel('LBL_Per_product', $siteLangId);
                                            break;
                                        default:
                                            echo $productsDetail[$selProd][$rentKey];
                                            break;
                                    }

                                    echo '</td>';
                                }
                                if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                    for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                        echo '<td></td>';
                                    }
                                } ?>
                    </tr>
                    <?php } ?>


                </table>
            </div>
            <?php } ?>

            <div class="spec-comparison row no-gutters">
                <?php
                if (!empty($attrGrpArr)) {
                    foreach ($attrGrpArr as $grpKey => $attrGrp) { ?>
                <div class="col-12 spec-head">
                    <h2><?php echo $attrGrp['attr_grp_name']; ?></h2>
                </div>
                <table>
                    <?php foreach ($attrGrp['attributes'] as $attribute) { ?>
                    <tr>
                        <td><?php echo ($attribute['attr_name'] != '') ? $attribute['attr_name'] : $attribute['attr_identifier']; ?>
                        </td>
                        <?php foreach ($prodArr as $selProd => $prod) { ?>
                        <td>
                            <?php
                                            if ($attribute['attr_type'] == AttrGroupAttribute::ATTRTYPE_SELECT_BOX) {
                                                $attrOpt =  explode("\n", $attribute['attr_options']);

                                                $optArr = [];
                                                if (isset($infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']])) {
                                                    $optionKey =  $infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']];
                                                    $optArr =  explode(",", $optionKey);
                                                }

                                                if (!empty($optArr)) {
                                                    $attrCount = count($optArr);
                                                    $j = 1;
                                                    foreach ($optArr as $key => $val) {
                                                        $val = ($val == '') ? 0 : $val;

                                                        echo $attrOpt[$val];
                                                        if (count($attrOpt) != $j) {
                                                            echo "<br>";
                                                        }
                                                        $j++;
                                                    }
                                                    // $optionKey =  (int) $infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']]; 
                                                    // $attrVal = ( $attribute['attr_prefix'] != '' ) ? $attribute['attr_prefix'] : '';
                                                    // $attrVal .= trim($attrOpt[$optionKey]);
                                                    // echo $attrVal .= ( $attribute['attr_postfix'] != '' ) ? $attribute['attr_postfix'] : '';
                                                } else {
                                                    echo Labels::getLabel('LBL_N/A', $siteLangId);
                                                }
                                            } else if ($attribute['attr_type'] == AttrGroupAttribute::ATTRTYPE_NUMBER) {
                                                if (!empty($infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']])) {
                                                    $attrVal = ($attribute['attr_prefix'] != '') ? $attribute['attr_prefix'] : '';
                                                    $attrVal .= intval($infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']]);
                                                    echo $attrVal .= ($attribute['attr_postfix'] != '') ? $attribute['attr_postfix'] : '';
                                                } else {
                                                    echo Labels::getLabel('LBL_N/A', $siteLangId);
                                                }
                                            } else {
                                                if (!empty($infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']])) {
                                                    $attrVal = ($attribute['attr_prefix'] != '') ? $attribute['attr_prefix'] : '';
                                                    $attrVal .= trim($infoAttrArr[$prod][$attribute['attr_attrgrp_id']][$attribute['attr_fld_name']]);
                                                    echo $attrVal .= ($attribute['attr_postfix'] != '') ? $attribute['attr_postfix'] : '';
                                                } else {
                                                    echo Labels::getLabel('LBL_N/A', $siteLangId);
                                                }
                                            }
                                            ?>
                        </td>
                        <?php } ?>
                        <?php
                                    if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                        for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                            echo '<td></td>';
                                        }
                                    }
                                    ?>
                    </tr>
                    <?php } ?>
                </table>
                <?php }
                } ?>
            </div>

            <?php if (!empty($specificationArr)) { ?>
            <div class="spec-comparison row no-gutters">
                <div class="col-12 spec-head">
                    <h2><?php echo Labels::getLabel('LBL_Products_Specifications', $siteLangId); ?></h2>
                </div>
                <table>
                    <?php foreach ($specificationArr as $specKey => $specValue) { ?>

                    <tr>
                        <td>
                            <?php echo $specKey; ?>
                        </td>
                        <?php
                                $count = 0;
                                foreach ($prodArr as $selProd => $prod) {
                                    if (!empty($specValue[$prod])) {
                                        echo "<td>";
                                        foreach ($specValue[$prod] as $skey => $sval) {
                                ?>
                        <?php echo $sval['prodspec_name'] . "-" . $sval['prodspec_value'];
                                            echo "<br>";
                                            ?>
                        <?php }
                                        echo "</td>";
                                    } else {
                                        echo "<td>";
                                        echo Labels::getLabel('LBL_N/A', $siteLangId);
                                        echo "</td>";
                                    }
                                } ?>
                    </tr>


                    <?php } ?>
                </table>
            </div>
            <?php } ?>
            <?php if (!empty($moreSellersProd)) { ?>
            <div class="spec-comparison row no-gutters">
                <div class="col-12 spec-head">
                    <h2><?php echo Labels::getLabel('LBL_Price_List', $siteLangId); ?></h2>
                </div>
                <table>
                    <?php foreach ($moreSellersProd as $shopKey => $moreSellerProd) { ?>
                    <tr>
                        <td><a href="<?php echo UrlHelper::generateUrl('shops', 'view', array($shopKey)); ?>"
                                tabindex="-1"><img
                                    src="<?php echo CommonHelper::generateUrl('image', 'shopLogo', array($shopKey, $siteLangId, 'SMALL')); ?>"></a>
                        </td>
                        <?php
                                foreach ($prodArr as $selProd => $prod) {
                                    echo '<td>';
                                    if (!empty($productsDetail[$selProd])) {
                                        if (!empty($moreSellerProd[$productsDetail[$selProd]['selprod_code']])) {
                                            $selProdId = $moreSellerProd[$productsDetail[$selProd]['selprod_code']]['selprod_id'];
                                            echo CommonHelper::displayMoneyFormat($moreSellerProd[$productsDetail[$selProd]['selprod_code']]['theprice']);
                                            $selprod_min_order_qty = intval($moreSellerProd[$productsDetail[$selProd]['selprod_code']]['selprod_min_order_qty']);
                                            $selprod_min_order_qty = ($selprod_min_order_qty > 0) ? $selprod_min_order_qty : 1;

                                ?>

                        <div class="comp-prod-add-to-cart more-seller-add-to-cart">
                            <!--div class="form__group">
                                                        <label class="pr-5"><?php //echo Labels::getLabel('M_Quantity', $siteLangId); 
                                                                            ?></label>
                                                        <div class="qty-wrapper">
                                                            <div class="quantity">
                                                                <span class="decrease decrease-js ">-</span>
                                                                <div class="qty-input-wrapper">
                                                                    <input maxlength="3" class="qty-input" type="text" id="compare_product_<?php //echo $selProdId; 
                                                                                                                                            ?>" name="quantity" value="<?php //echo $selprod_min_order_qty; 
                                                                                                                                                                        ?>">
                                                                </div>
                                                                <span class="increase increase-js">+</span>    
                                                            </div>
                                                        </div>
                                                    </div-->
                            <a href="javascript:void(0)" class="btn btn--primary 	hide_below_desktop  "
                                onclick="quickDetail('<?php echo $selProdId; ?>')"><?php echo Labels::getLabel('LBL_Quick_View', $siteLangId); ?></a>

                            <a href="<?php echo UrlHelper::generateUrl('Products', 'View', array($selProd)); ?>"
                                class="btn btn--primary hide--desktop show--mobile"><?php echo Labels::getLabel('LBL_View', $siteLangId); ?></a>
                        </div>
                        <?php
                                        } else {
                                            echo Labels::getLabel('LBL_N/A', $siteLangId);
                                        }
                                    } else {
                                        echo Labels::getLabel('LBL_N/A', $siteLangId);
                                    }
                                    echo '</td>';
                                }
                                ?>
                        <?php
                                if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                    for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                        echo '<td></td>';
                                    }
                                }
                                ?>
                    </tr>
                    <?php } ?>
                </table>
            </div>
            <?php } ?>

            <?php if (!empty($prodReviewArr)) { ?>
            <div class="review--table spec-comparison row no-gutters">
                <div class="col-12 spec-head">
                    <h2><?php echo Labels::getLabel('LBL_Top_Reviews', $siteLangId); ?></h2>
                </div>
                <table>
                    <tr>
                        <td></td>
                        <?php foreach ($prodArr as $selProd => $prod) { ?>
                        <td>
                            <?php if (!empty($prodReviewArr[$prod])) {
                                        foreach ($prodReviewArr[$prod] as $reviewKey => $review) {
                                    ?>
                            <div <?php if ($reviewKey > 0) {
                                                        echo 'class="mt-5"';
                                                    } ?>>
                                <h4><?php echo $review['spreview_title']; ?></h4>
                                <div class="user-detail">
                                    <div class="rating-wrap">
                                        <div class="rating-stars">
                                            <ul style="display: flex">
                                                <?php for ($j = 1; $j <= 5; $j++) { ?>
                                                <li
                                                    class="<?php echo $j <= round($review["prod_rating"]) ? "active" : "in-active" ?>">
                                                    <svg width="15" height="15" viewbox="0 0 15 15">


                                                        <path
                                                            fill="<?php echo $j <= round($review["prod_rating"]) ? "#FFD700" : "#" ?>"
                                                            id="" data-name="Forma 1" class=""
                                                            d="M14.979,5.7a0.273,0.273,0,0,0-.217-0.192L9.9,4.766,7.726,0.153a0.263,0.263,0,0,0-.482,0L5.069,4.766l-4.862.74A0.274,0.274,0,0,0-.01,5.7a0.291,0.291,0,0,0,.068.288l3.518,3.59L2.745,14.647a0.286,0.286,0,0,0,.107.274,0.255,0.255,0,0,0,.283.022L7.485,12.55l4.349,2.394a0.257,0.257,0,0,0,.125.032,0.253,0.253,0,0,0,.158-0.054,0.284,0.284,0,0,0,.107-0.274L11.393,9.578l3.519-3.591A0.292,0.292,0,0,0,14.979,5.7Z">
                                                        </path>

                                                    </svg>
                                                </li>
                                                <?php } ?>
                                            </ul>
                                        </div><span><?php echo round($review["prod_rating"]); ?></span>
                                    </div>
                                    <div class="by-name py-2"><?php echo Labels::getLabel('LBL_By', $siteLangId); ?>
                                        <?php echo CommonHelper::displayName($review['user_name']); ?>
                                        <?php echo Labels::getLabel('LBL_On', $siteLangId); ?>
                                        <?php echo FatDate::format($review['spreview_posted_on']); ?></div>
                                    <p>
                                        <span
                                            class="lessText"><?php echo CommonHelper::truncateCharacters($review['spreview_description'], 200, '', '', true); ?></span>
                                    </p>
                                </div>
                            </div>
                            <?php }
                                    } ?>
                        </td>
                        <?php } ?>
                        <?php
                            if (count($prodArr) < CompareProduct::COMPARE_PRODUCTS_LIMIT) {
                                for ($i = 1; $i <= CompareProduct::COMPARE_PRODUCTS_LIMIT - count($prodArr); $i++) {
                                    echo '<td></td>';
                                }
                            }
                            ?>
                    </tr>
                </table>
            </div>
            <?php } ?>
        </div>
    </div>
</section>
</div>

<script>
$(document).ready(function() {
    var heightArr = [];
    $(".level-1--js .level-2--js").each(function(parentIndex, element) {
        $(element).find('.cd-features-list li').each(function(childIndex, childElement) {
            var height = $(childElement).outerHeight();
            if (heightArr[childIndex] != undefined) {
                if (heightArr[childIndex] < height) {
                    heightArr[childIndex] = height;
                }
            } else {
                heightArr.push(height);
            }
        })
    });
    $(".level-1--js .level-2--js").each(function(parentIndex, element) {
        $(element).find('.cd-features-list li').each(function(childIndex, childElement) {
            var minHeight = heightArr[childIndex];
            $(childElement).css('min-height', minHeight + 'px');
        });
    });
    $('.heading-list--js li').each(function(childIndex, childElement) {
        var minHeight = heightArr[childIndex];
        $(childElement).css('min-height', minHeight + 'px');
    });

});
</script>


<script type="text/javascript">
$('input[name=\'search_product\']').autocomplete({
    'source': function(request, response) {
        $.ajax({
            url: fcom.makeUrl('CompareProducts', 'autoComplete'),
            data: {
                keyword: request,
                fIsAjax: 1
            },
            dataType: 'json',
            type: 'post',
            success: function(json) {
                response($.map(json, function(item) {
                    return {
                        label: item['name'],
                        value: item['id']
                    };
                }));
            },
        });
    },
    'select': function(item) {
        addToCompareList(item['value'], 1);
    }

});
</script>